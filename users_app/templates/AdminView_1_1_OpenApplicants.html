{% extends 'Admin_Inheritance.html' %}

{% block title %}
    BayaniHire Admin Center
{% endblock %}

{% block content %}
    <div class="container-fluid">
        <!-- Title and Profile -->
        <div class="row mb-3">
            <div class="col-12">
                <h2>Pre/Post Evaluation Applicant's File Upload</h2>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-6"> <!-- Group 1 -->
                <!-- Applicant Information Table -->
                <table class="table">
                    <tr><td>Name:</td><td>{{ applicant.first_name }} {{ applicant.middle_name }} {{ applicant.last_name }}</td></tr>
                    <tr><td>Applied For:</td><td>{{ job_details.job_title }}</td></tr>
                    <tr><td>Date Applied:</td><td>{{ submission_date }}</td></tr>
                    <tr><td>Age:</td><td>{{ applicant.age }}</td></tr>
                    <tr><td>Gender:</td><td>{{ applicant.gender }}</td></tr>
                    <tr><td>Current Address:</td><td>{{ applicant.house_no }}, {{ applicant.street_village }}, {{ applicant.barangay }}, {{ applicant.city_municipality }}, {{ applicant.province }}, {{ applicant.state }} ({{ applicant.zipcode }})</td></tr>
                    <tr><td>Mobile Number:</td><td>{{ applicant.mobile_number }}</td></tr>
                    <tr><td>Email:</td><td>{{ applicant.email }}</td></tr>
                    <tr><td>Username:</td><td>{{ applicant.username }}</td></tr>
                </table>
                
                <!-- File Upload List -->
                <label>File Upload</label>
                <ul>
                    {% if uploaded_files %}
                        {% for file_name in uploaded_files %}
                            <li>
                                {{ file_name }}
                                <button onclick="window.location.href='{% url 'viewing_files' file_name=file_name %}';">View File</button>
                                <button>Download</button>
                                <button onclick="printFile('{{ file_name }}')">Print</button>
                            </li>
                        {% endfor %}
                    {% else %}
                        <li>No files uploaded.</li>
                    {% endif %}
                </ul>
            </div>
            
            <div class="col-md-6"> <!-- Group 2 -->
                <!-- Job and Applicant Status -->
                <table class="table">
                    <tr><td>Job Title:</td><td>{{ job_details.job_title }}</td></tr>
                    <tr><td>Company:</td><td>{{ job_details.job_company }}</td></tr>
                </table>
                <textarea readonly class="form-control" rows="5">{{ job_details.job_requirements }}</textarea>
                <label>Status: {{ applicant_status }}</label><br>
                <form method="POST" action="{% url 'update_applicant_status' applicant_status_id=applicant_status_id %}">
                    {% csrf_token %}
                    <select name="new_status" class="form-control mb-3">
                        <option value="FOR INTERVIEW">FOR INTERVIEW</option>
                        <option value="FAILED TO MEET REQUIREMENTS">FAILED TO MEET REQUIREMENTS</option>
                        <option value="INCOMPLETE">INCOMPLETE</option>
                        <option value="REJECTED">REJECTED</option>
                    </select>
                    <button type="submit" class="btn btn-primary">Save</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
